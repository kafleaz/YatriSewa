@model YatriSewa.Models.ForgotPasswordModel

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" type="image/png" href="~/img/logo.png">
    <title>Forgot Password</title>
    <!-- Bootstrap core CSS -->
    <link href="~/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Icofont Icon-->
    <link href="~/vendor/icons/icofont.min.css" rel="stylesheet" type="text/css">
    <!-- Slick Slider -->
    <link rel="stylesheet" type="text/css" href="~/vendor/slick/slick.min.css" />
    <link rel="stylesheet" type="text/css" href="~/vendor/slick/slick-theme.min.css" />
    <!-- Custom styles for this template -->
    <link href="~/css/custom.css" rel="stylesheet">
    <!-- Sidebar CSS -->
    <link href="~/vendor/sidebar/demo.css" rel="stylesheet">
</head>
<body>
    <!-- Forgot Password -->
    <div class="container-70">
        <div class="osahan-header-nav shadow-sm p-3 d-flex align-items-center bg-darkblue">
            <h5 class="font-weight-normal mb-0 text-white">
                <a class="text-green mr-3" href="@Url.Action("SignIn", "Login")"><i class="icofont-rounded-left"></i></a>
                Forgot Password
            </h5>
            <div class="ml-auto d-flex align-items-center">
                <a class="toggle osahan-toggle h4 m-0 text-white ml-auto" href="#"><i class="icofont-navigation-menu"></i></a>
            </div>
        </div>
        <div class="p-3">
            <form id="forgotPasswordForm" asp-action="ForgotPassword" method="post">

                <div class="form-group">
                    <label class="text-muted f-10 mb-1">Email or Phone no.</label>
                    <input asp-for="EmailOrPhone" id="emailOrPhone" class="form-control" placeholder="Enter Your Email or Phone" required />
                    <span asp-validation-for="EmailOrPhone" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label class="text-muted f-10 mb-1">New Password</label>
                    <input asp-for="NewPassword" type="password" class="form-control" id="password" placeholder="Enter Your New Password" required />
                    <span asp-validation-for="NewPassword" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label class="text-muted f-10 mb-1">Confirm Password</label>
                    <input type="password" class="form-control" id="confirmPassword" placeholder="Confirm Your Password" required />
                    <span class="text-danger" id="confirmPasswordError"></span>
                </div>

                <button type="submit" class="btn btn-darkblue btn-block osahanbus-btn mb-4 rounded-1">Reset Password</button>
            </form>

            <div class="osahan-signin text-center p-1">
                <p class="m-0">Don't have an account? <a href="@Url.Action("Signup", "Login")" class="text-green ml-2">Sign Up</a></p>
            </div>
        </div>
    </div>

    <!-- Bootstrap core JavaScript -->
    <script src="~/vendor/jquery/jquery.min.js"></script>
    <script src="~/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- slick Slider JS-->
    <script type="text/javascript" src="~/vendor/slick/slick.min.js"></script>
    <!-- Sidebar JS-->
    <script type="text/javascript" src="~/vendor/sidebar/hc-offcanvas-nav.js"></script>
    <!-- Custom scripts for all pages-->
    <script src="~/js/custom.js"></script>

    <!-- Password validation script -->
    <script>
        $(document).ready(function () {
            // Validate form before submission
            $("#forgotPasswordForm").on("submit", function (e) {
                var isValid = true;
                var emailOrPhone = $("#emailOrPhone").val(); // Corrected the ID for EmailOrPhone
                var password = $("#password").val();
                var confirmPassword = $("#confirmPassword").val();

                // Check if password is at least 6 characters
                if (password.length < 6) {
                    $("#password").addClass("is-invalid");
                    isValid = false;
                } else {
                    $("#password").removeClass("is-invalid");
                }

                // Check if confirm password matches the password
                if (confirmPassword !== password) {
                    $("#confirmPasswordError").text("Passwords do not match.");
                    $("#confirmPassword").addClass("is-invalid");
                    isValid = false;
                } else {
                    $("#confirmPasswordError").text("");
                    $("#confirmPassword").removeClass("is-invalid");
                }

                // Prevent form submission if validation fails
                if (!isValid) {
                    e.preventDefault();
                }
            });
        });
    </script>
</body>
</html>
